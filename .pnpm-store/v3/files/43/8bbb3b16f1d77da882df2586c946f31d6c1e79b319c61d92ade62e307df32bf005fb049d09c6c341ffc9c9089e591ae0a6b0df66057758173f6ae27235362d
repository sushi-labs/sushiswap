var global,factory;global=this,factory=function(e){const t="\r\n\r\n",n=new TextDecoder;e.meros=async function(e,o){if(!e.ok||!e.body||e.bodyUsed)return e;const i=e.headers.get("content-type");if(!i||!~i.indexOf("multipart/mixed"))return e;const r=i.indexOf("boundary=");return async function*(e,o,i){const r=e.getReader(),s=!i||!i.multiple;let l="",f=!0,d=[];try{let e;e:for(;!(e=await r.read()).done;){const i=n.decode(e.value),r=i.indexOf(o);let a=l.length;for(l+=i,~r?a+=r:a=l.indexOf(o),d=[];~a;){const e=l.substring(0,a),n=l.substring(a+o.length);if(f)f=!1,o="\r\n"+o;else{const o={},i=e.indexOf(t),r=l.slice(0,i).trim().split(/\r\n/);let f;for(;f=r.shift();)f=f.split(": "),o[f.shift().toLowerCase()]=f.join(": ");const a=e.lastIndexOf("\r\n",i+4);let c=e.substring(i+4,a>-1?void 0:a),y=!1;if(f=o["content-type"],f&&~f.indexOf("application/json"))try{c=JSON.parse(c),y=!0}catch(e){}if(f={headers:o,body:c,json:y},s?yield f:d.push(f),"--"===n.substring(0,2))break e}l=n,a=l.indexOf(o)}d.length&&(yield d)}}finally{d.length&&(yield d),r.releaseLock()}}(e.body,"--"+(~r?i.substring(r+9).trim().replace(/['"]/g,""):"-"),o)}},"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory((global="undefined"!=typeof globalThis?globalThis:global||self).meros={});
