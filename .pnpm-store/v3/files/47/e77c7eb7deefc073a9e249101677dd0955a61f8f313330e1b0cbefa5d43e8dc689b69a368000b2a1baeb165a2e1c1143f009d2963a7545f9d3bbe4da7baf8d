{"version":3,"file":"index.js","sources":["../dist-src/createLogger.js","../dist-src/generated/webhook-names.js","../dist-src/event-handler/on.js","../dist-src/event-handler/wrap-error-handler.js","../dist-src/event-handler/receive.js","../dist-src/event-handler/remove-listener.js","../dist-src/event-handler/index.js","../dist-src/to-normalized-json-string.js","../dist-src/sign.js","../dist-src/verify.js","../dist-src/verify-and-receive.js","../dist-src/middleware/node/get-missing-headers.js","../dist-src/middleware/node/get-payload.js","../dist-src/middleware/node/middleware.js","../dist-src/middleware/node/on-unhandled-request-default.js","../dist-src/middleware/node/index.js","../dist-src/index.js"],"sourcesContent":["export const createLogger = (logger) => ({\n    debug: () => { },\n    info: () => { },\n    warn: console.warn.bind(console),\n    error: console.error.bind(console),\n    ...logger,\n});\n","// THIS FILE IS GENERATED - DO NOT EDIT DIRECTLY\n// make edits in scripts/generate-types.ts\nexport const emitterEventNames = [\n    \"branch_protection_rule\",\n    \"branch_protection_rule.created\",\n    \"branch_protection_rule.deleted\",\n    \"branch_protection_rule.edited\",\n    \"check_run\",\n    \"check_run.completed\",\n    \"check_run.created\",\n    \"check_run.requested_action\",\n    \"check_run.rerequested\",\n    \"check_suite\",\n    \"check_suite.completed\",\n    \"check_suite.requested\",\n    \"check_suite.rerequested\",\n    \"code_scanning_alert\",\n    \"code_scanning_alert.appeared_in_branch\",\n    \"code_scanning_alert.closed_by_user\",\n    \"code_scanning_alert.created\",\n    \"code_scanning_alert.fixed\",\n    \"code_scanning_alert.reopened\",\n    \"code_scanning_alert.reopened_by_user\",\n    \"commit_comment\",\n    \"commit_comment.created\",\n    \"create\",\n    \"delete\",\n    \"deploy_key\",\n    \"deploy_key.created\",\n    \"deploy_key.deleted\",\n    \"deployment\",\n    \"deployment.created\",\n    \"deployment_status\",\n    \"deployment_status.created\",\n    \"discussion\",\n    \"discussion.answered\",\n    \"discussion.category_changed\",\n    \"discussion.created\",\n    \"discussion.deleted\",\n    \"discussion.edited\",\n    \"discussion.labeled\",\n    \"discussion.locked\",\n    \"discussion.pinned\",\n    \"discussion.transferred\",\n    \"discussion.unanswered\",\n    \"discussion.unlabeled\",\n    \"discussion.unlocked\",\n    \"discussion.unpinned\",\n    \"discussion_comment\",\n    \"discussion_comment.created\",\n    \"discussion_comment.deleted\",\n    \"discussion_comment.edited\",\n    \"fork\",\n    \"github_app_authorization\",\n    \"github_app_authorization.revoked\",\n    \"gollum\",\n    \"installation\",\n    \"installation.created\",\n    \"installation.deleted\",\n    \"installation.new_permissions_accepted\",\n    \"installation.suspend\",\n    \"installation.unsuspend\",\n    \"installation_repositories\",\n    \"installation_repositories.added\",\n    \"installation_repositories.removed\",\n    \"issue_comment\",\n    \"issue_comment.created\",\n    \"issue_comment.deleted\",\n    \"issue_comment.edited\",\n    \"issues\",\n    \"issues.assigned\",\n    \"issues.closed\",\n    \"issues.deleted\",\n    \"issues.demilestoned\",\n    \"issues.edited\",\n    \"issues.labeled\",\n    \"issues.locked\",\n    \"issues.milestoned\",\n    \"issues.opened\",\n    \"issues.pinned\",\n    \"issues.reopened\",\n    \"issues.transferred\",\n    \"issues.unassigned\",\n    \"issues.unlabeled\",\n    \"issues.unlocked\",\n    \"issues.unpinned\",\n    \"label\",\n    \"label.created\",\n    \"label.deleted\",\n    \"label.edited\",\n    \"marketplace_purchase\",\n    \"marketplace_purchase.cancelled\",\n    \"marketplace_purchase.changed\",\n    \"marketplace_purchase.pending_change\",\n    \"marketplace_purchase.pending_change_cancelled\",\n    \"marketplace_purchase.purchased\",\n    \"member\",\n    \"member.added\",\n    \"member.edited\",\n    \"member.removed\",\n    \"membership\",\n    \"membership.added\",\n    \"membership.removed\",\n    \"meta\",\n    \"meta.deleted\",\n    \"milestone\",\n    \"milestone.closed\",\n    \"milestone.created\",\n    \"milestone.deleted\",\n    \"milestone.edited\",\n    \"milestone.opened\",\n    \"org_block\",\n    \"org_block.blocked\",\n    \"org_block.unblocked\",\n    \"organization\",\n    \"organization.deleted\",\n    \"organization.member_added\",\n    \"organization.member_invited\",\n    \"organization.member_removed\",\n    \"organization.renamed\",\n    \"package\",\n    \"package.published\",\n    \"package.updated\",\n    \"page_build\",\n    \"ping\",\n    \"project\",\n    \"project.closed\",\n    \"project.created\",\n    \"project.deleted\",\n    \"project.edited\",\n    \"project.reopened\",\n    \"project_card\",\n    \"project_card.converted\",\n    \"project_card.created\",\n    \"project_card.deleted\",\n    \"project_card.edited\",\n    \"project_card.moved\",\n    \"project_column\",\n    \"project_column.created\",\n    \"project_column.deleted\",\n    \"project_column.edited\",\n    \"project_column.moved\",\n    \"projects_v2_item\",\n    \"projects_v2_item.archived\",\n    \"projects_v2_item.converted\",\n    \"projects_v2_item.created\",\n    \"projects_v2_item.deleted\",\n    \"projects_v2_item.edited\",\n    \"projects_v2_item.reordered\",\n    \"projects_v2_item.restored\",\n    \"public\",\n    \"pull_request\",\n    \"pull_request.assigned\",\n    \"pull_request.auto_merge_disabled\",\n    \"pull_request.auto_merge_enabled\",\n    \"pull_request.closed\",\n    \"pull_request.converted_to_draft\",\n    \"pull_request.edited\",\n    \"pull_request.labeled\",\n    \"pull_request.locked\",\n    \"pull_request.opened\",\n    \"pull_request.ready_for_review\",\n    \"pull_request.reopened\",\n    \"pull_request.review_request_removed\",\n    \"pull_request.review_requested\",\n    \"pull_request.synchronize\",\n    \"pull_request.unassigned\",\n    \"pull_request.unlabeled\",\n    \"pull_request.unlocked\",\n    \"pull_request_review\",\n    \"pull_request_review.dismissed\",\n    \"pull_request_review.edited\",\n    \"pull_request_review.submitted\",\n    \"pull_request_review_comment\",\n    \"pull_request_review_comment.created\",\n    \"pull_request_review_comment.deleted\",\n    \"pull_request_review_comment.edited\",\n    \"pull_request_review_thread\",\n    \"pull_request_review_thread.resolved\",\n    \"pull_request_review_thread.unresolved\",\n    \"push\",\n    \"release\",\n    \"release.created\",\n    \"release.deleted\",\n    \"release.edited\",\n    \"release.prereleased\",\n    \"release.published\",\n    \"release.released\",\n    \"release.unpublished\",\n    \"repository\",\n    \"repository.archived\",\n    \"repository.created\",\n    \"repository.deleted\",\n    \"repository.edited\",\n    \"repository.privatized\",\n    \"repository.publicized\",\n    \"repository.renamed\",\n    \"repository.transferred\",\n    \"repository.unarchived\",\n    \"repository_dispatch\",\n    \"repository_import\",\n    \"repository_vulnerability_alert\",\n    \"repository_vulnerability_alert.create\",\n    \"repository_vulnerability_alert.dismiss\",\n    \"repository_vulnerability_alert.reopen\",\n    \"repository_vulnerability_alert.resolve\",\n    \"secret_scanning_alert\",\n    \"secret_scanning_alert.created\",\n    \"secret_scanning_alert.reopened\",\n    \"secret_scanning_alert.resolved\",\n    \"security_advisory\",\n    \"security_advisory.performed\",\n    \"security_advisory.published\",\n    \"security_advisory.updated\",\n    \"security_advisory.withdrawn\",\n    \"sponsorship\",\n    \"sponsorship.cancelled\",\n    \"sponsorship.created\",\n    \"sponsorship.edited\",\n    \"sponsorship.pending_cancellation\",\n    \"sponsorship.pending_tier_change\",\n    \"sponsorship.tier_changed\",\n    \"star\",\n    \"star.created\",\n    \"star.deleted\",\n    \"status\",\n    \"team\",\n    \"team.added_to_repository\",\n    \"team.created\",\n    \"team.deleted\",\n    \"team.edited\",\n    \"team.removed_from_repository\",\n    \"team_add\",\n    \"watch\",\n    \"watch.started\",\n    \"workflow_dispatch\",\n    \"workflow_job\",\n    \"workflow_job.completed\",\n    \"workflow_job.in_progress\",\n    \"workflow_job.queued\",\n    \"workflow_run\",\n    \"workflow_run.completed\",\n    \"workflow_run.requested\",\n];\n","import { emitterEventNames } from \"../generated/webhook-names\";\nfunction handleEventHandlers(state, webhookName, handler) {\n    if (!state.hooks[webhookName]) {\n        state.hooks[webhookName] = [];\n    }\n    state.hooks[webhookName].push(handler);\n}\nexport function receiverOn(state, webhookNameOrNames, handler) {\n    if (Array.isArray(webhookNameOrNames)) {\n        webhookNameOrNames.forEach((webhookName) => receiverOn(state, webhookName, handler));\n        return;\n    }\n    if ([\"*\", \"error\"].includes(webhookNameOrNames)) {\n        const webhookName = webhookNameOrNames === \"*\" ? \"any\" : webhookNameOrNames;\n        const message = `Using the \"${webhookNameOrNames}\" event with the regular Webhooks.on() function is not supported. Please use the Webhooks.on${webhookName.charAt(0).toUpperCase() + webhookName.slice(1)}() method instead`;\n        throw new Error(message);\n    }\n    if (!emitterEventNames.includes(webhookNameOrNames)) {\n        state.log.warn(`\"${webhookNameOrNames}\" is not a known webhook name (https://developer.github.com/v3/activity/events/types/)`);\n    }\n    handleEventHandlers(state, webhookNameOrNames, handler);\n}\nexport function receiverOnAny(state, handler) {\n    handleEventHandlers(state, \"*\", handler);\n}\nexport function receiverOnError(state, handler) {\n    handleEventHandlers(state, \"error\", handler);\n}\n","// Errors thrown or rejected Promises in \"error\" event handlers are not handled\n// as they are in the webhook event handlers. If errors occur, we log a\n// \"Fatal: Error occurred\" message to stdout\nexport function wrapErrorHandler(handler, error) {\n    let returnValue;\n    try {\n        returnValue = handler(error);\n    }\n    catch (error) {\n        console.log('FATAL: Error occurred in \"error\" event handler');\n        console.log(error);\n    }\n    if (returnValue && returnValue.catch) {\n        returnValue.catch((error) => {\n            console.log('FATAL: Error occurred in \"error\" event handler');\n            console.log(error);\n        });\n    }\n}\n","// @ts-ignore to address #245\nimport AggregateError from \"aggregate-error\";\nimport { wrapErrorHandler } from \"./wrap-error-handler\";\nfunction getHooks(state, eventPayloadAction, eventName) {\n    const hooks = [state.hooks[eventName], state.hooks[\"*\"]];\n    if (eventPayloadAction) {\n        hooks.unshift(state.hooks[`${eventName}.${eventPayloadAction}`]);\n    }\n    return [].concat(...hooks.filter(Boolean));\n}\n// main handler function\nexport function receiverHandle(state, event) {\n    const errorHandlers = state.hooks.error || [];\n    if (event instanceof Error) {\n        const error = Object.assign(new AggregateError([event]), {\n            event,\n            errors: [event],\n        });\n        errorHandlers.forEach((handler) => wrapErrorHandler(handler, error));\n        return Promise.reject(error);\n    }\n    if (!event || !event.name) {\n        throw new AggregateError([\"Event name not passed\"]);\n    }\n    if (!event.payload) {\n        throw new AggregateError([\"Event payload not passed\"]);\n    }\n    // flatten arrays of event listeners and remove undefined values\n    const hooks = getHooks(state, \"action\" in event.payload ? event.payload.action : null, event.name);\n    if (hooks.length === 0) {\n        return Promise.resolve();\n    }\n    const errors = [];\n    const promises = hooks.map((handler) => {\n        let promise = Promise.resolve(event);\n        if (state.transform) {\n            promise = promise.then(state.transform);\n        }\n        return promise\n            .then((event) => {\n            return handler(event);\n        })\n            .catch((error) => errors.push(Object.assign(error, { event })));\n    });\n    return Promise.all(promises).then(() => {\n        if (errors.length === 0) {\n            return;\n        }\n        const error = new AggregateError(errors);\n        Object.assign(error, {\n            event,\n            errors,\n        });\n        errorHandlers.forEach((handler) => wrapErrorHandler(handler, error));\n        throw error;\n    });\n}\n","export function removeListener(state, webhookNameOrNames, handler) {\n    if (Array.isArray(webhookNameOrNames)) {\n        webhookNameOrNames.forEach((webhookName) => removeListener(state, webhookName, handler));\n        return;\n    }\n    if (!state.hooks[webhookNameOrNames]) {\n        return;\n    }\n    // remove last hook that has been added, that way\n    // it behaves the same as removeListener\n    for (let i = state.hooks[webhookNameOrNames].length - 1; i >= 0; i--) {\n        if (state.hooks[webhookNameOrNames][i] === handler) {\n            state.hooks[webhookNameOrNames].splice(i, 1);\n            return;\n        }\n    }\n}\n","import { createLogger } from \"../createLogger\";\nimport { receiverOn as on, receiverOnAny as onAny, receiverOnError as onError, } from \"./on\";\nimport { receiverHandle as receive } from \"./receive\";\nimport { removeListener } from \"./remove-listener\";\nexport function createEventHandler(options) {\n    const state = {\n        hooks: {},\n        log: createLogger(options && options.log),\n    };\n    if (options && options.transform) {\n        state.transform = options.transform;\n    }\n    return {\n        on: on.bind(null, state),\n        onAny: onAny.bind(null, state),\n        onError: onError.bind(null, state),\n        removeListener: removeListener.bind(null, state),\n        receive: receive.bind(null, state),\n    };\n}\n","/**\n * GitHub sends its JSON with an indentation of 2 spaces and a line break at the end\n */\nexport function toNormalizedJsonString(payload) {\n    const payloadString = JSON.stringify(payload);\n    return payloadString.replace(/[^\\\\]\\\\u[\\da-f]{4}/g, (s) => {\n        return s.substr(0, 3) + s.substr(3).toUpperCase();\n    });\n}\n","import { sign as signMethod } from \"@octokit/webhooks-methods\";\nimport { toNormalizedJsonString } from \"./to-normalized-json-string\";\nexport async function sign(secret, payload) {\n    return signMethod(secret, typeof payload === \"string\" ? payload : toNormalizedJsonString(payload));\n}\n","import { verify as verifyMethod } from \"@octokit/webhooks-methods\";\nimport { toNormalizedJsonString } from \"./to-normalized-json-string\";\nexport async function verify(secret, payload, signature) {\n    return verifyMethod(secret, typeof payload === \"string\" ? payload : toNormalizedJsonString(payload), signature);\n}\n","import { verify } from \"@octokit/webhooks-methods\";\nimport { toNormalizedJsonString } from \"./to-normalized-json-string\";\nexport async function verifyAndReceive(state, event) {\n    // verify will validate that the secret is not undefined\n    const matchesSignature = await verify(state.secret, typeof event.payload === \"object\"\n        ? toNormalizedJsonString(event.payload)\n        : event.payload, event.signature);\n    if (!matchesSignature) {\n        const error = new Error(\"[@octokit/webhooks] signature does not match event payload and secret\");\n        return state.eventHandler.receive(Object.assign(error, { event, status: 400 }));\n    }\n    return state.eventHandler.receive({\n        id: event.id,\n        name: event.name,\n        payload: typeof event.payload === \"string\"\n            ? JSON.parse(event.payload)\n            : event.payload,\n    });\n}\n","const WEBHOOK_HEADERS = [\n    \"x-github-event\",\n    \"x-hub-signature-256\",\n    \"x-github-delivery\",\n];\n// https://docs.github.com/en/developers/webhooks-and-events/webhook-events-and-payloads#delivery-headers\nexport function getMissingHeaders(request) {\n    return WEBHOOK_HEADERS.filter((header) => !(header in request.headers));\n}\n","// @ts-ignore to address #245\nimport AggregateError from \"aggregate-error\";\nexport function getPayload(request) {\n    // If request.body already exists we can stop here\n    // See https://github.com/octokit/webhooks.js/pull/23\n    if (request.body)\n        return Promise.resolve(request.body);\n    return new Promise((resolve, reject) => {\n        let data = \"\";\n        request.setEncoding(\"utf8\");\n        // istanbul ignore next\n        request.on(\"error\", (error) => reject(new AggregateError([error])));\n        request.on(\"data\", (chunk) => (data += chunk));\n        request.on(\"end\", () => {\n            try {\n                resolve(JSON.parse(data));\n            }\n            catch (error) {\n                error.message = \"Invalid JSON\";\n                error.status = 400;\n                reject(new AggregateError([error]));\n            }\n        });\n    });\n}\n","import { getMissingHeaders } from \"./get-missing-headers\";\nimport { getPayload } from \"./get-payload\";\nexport async function middleware(webhooks, options, request, response, next) {\n    let pathname;\n    try {\n        pathname = new URL(request.url, \"http://localhost\").pathname;\n    }\n    catch (error) {\n        response.writeHead(422, {\n            \"content-type\": \"application/json\",\n        });\n        response.end(JSON.stringify({\n            error: `Request URL could not be parsed: ${request.url}`,\n        }));\n        return;\n    }\n    const isUnknownRoute = request.method !== \"POST\" || pathname !== options.path;\n    const isExpressMiddleware = typeof next === \"function\";\n    if (isUnknownRoute) {\n        if (isExpressMiddleware) {\n            return next();\n        }\n        else {\n            return options.onUnhandledRequest(request, response);\n        }\n    }\n    const missingHeaders = getMissingHeaders(request).join(\", \");\n    if (missingHeaders) {\n        response.writeHead(400, {\n            \"content-type\": \"application/json\",\n        });\n        response.end(JSON.stringify({\n            error: `Required headers missing: ${missingHeaders}`,\n        }));\n        return;\n    }\n    const eventName = request.headers[\"x-github-event\"];\n    const signatureSHA256 = request.headers[\"x-hub-signature-256\"];\n    const id = request.headers[\"x-github-delivery\"];\n    options.log.debug(`${eventName} event received (id: ${id})`);\n    // GitHub will abort the request if it does not receive a response within 10s\n    // See https://github.com/octokit/webhooks.js/issues/185\n    let didTimeout = false;\n    const timeout = setTimeout(() => {\n        didTimeout = true;\n        response.statusCode = 202;\n        response.end(\"still processing\\n\");\n    }, 9000).unref();\n    try {\n        const payload = await getPayload(request);\n        await webhooks.verifyAndReceive({\n            id: id,\n            name: eventName,\n            payload: payload,\n            signature: signatureSHA256,\n        });\n        clearTimeout(timeout);\n        if (didTimeout)\n            return;\n        response.end(\"ok\\n\");\n    }\n    catch (error) {\n        clearTimeout(timeout);\n        if (didTimeout)\n            return;\n        const err = Array.from(error)[0];\n        const errorMessage = err.message\n            ? `${err.name}: ${err.message}`\n            : \"Error: An Unspecified error occurred\";\n        response.statusCode = typeof err.status !== \"undefined\" ? err.status : 500;\n        options.log.error(error);\n        response.end(JSON.stringify({\n            error: errorMessage,\n        }));\n    }\n}\n","export function onUnhandledRequestDefault(request, response) {\n    response.writeHead(404, {\n        \"content-type\": \"application/json\",\n    });\n    response.end(JSON.stringify({\n        error: `Unknown route: ${request.method} ${request.url}`,\n    }));\n}\n","import { createLogger } from \"../../createLogger\";\nimport { middleware } from \"./middleware\";\nimport { onUnhandledRequestDefault } from \"./on-unhandled-request-default\";\nexport function createNodeMiddleware(webhooks, { path = \"/api/github/webhooks\", onUnhandledRequest = onUnhandledRequestDefault, log = createLogger(), } = {}) {\n    return middleware.bind(null, webhooks, {\n        path,\n        onUnhandledRequest,\n        log,\n    });\n}\n","import { createLogger } from \"./createLogger\";\nimport { createEventHandler } from \"./event-handler/index\";\nimport { sign } from \"./sign\";\nimport { verify } from \"./verify\";\nimport { verifyAndReceive } from \"./verify-and-receive\";\nexport { createNodeMiddleware } from \"./middleware/node/index\";\nexport { emitterEventNames } from \"./generated/webhook-names\";\n// U holds the return value of `transform` function in Options\nclass Webhooks {\n    constructor(options) {\n        if (!options || !options.secret) {\n            throw new Error(\"[@octokit/webhooks] options.secret required\");\n        }\n        const state = {\n            eventHandler: createEventHandler(options),\n            secret: options.secret,\n            hooks: {},\n            log: createLogger(options.log),\n        };\n        this.sign = sign.bind(null, options.secret);\n        this.verify = verify.bind(null, options.secret);\n        this.on = state.eventHandler.on;\n        this.onAny = state.eventHandler.onAny;\n        this.onError = state.eventHandler.onError;\n        this.removeListener = state.eventHandler.removeListener;\n        this.receive = state.eventHandler.receive;\n        this.verifyAndReceive = verifyAndReceive.bind(null, state);\n    }\n}\nexport { createEventHandler, Webhooks, };\n"],"names":["createLogger","logger","debug","info","warn","console","bind","error","emitterEventNames","handleEventHandlers","state","webhookName","handler","hooks","push","receiverOn","webhookNameOrNames","Array","isArray","forEach","includes","message","charAt","toUpperCase","slice","Error","log","receiverOnAny","receiverOnError","wrapErrorHandler","returnValue","catch","getHooks","eventPayloadAction","eventName","unshift","concat","filter","Boolean","receiverHandle","event","errorHandlers","Object","assign","AggregateError","errors","Promise","reject","name","payload","action","length","resolve","promises","map","promise","transform","then","all","removeListener","i","splice","createEventHandler","options","on","onAny","onError","receive","toNormalizedJsonString","payloadString","JSON","stringify","replace","s","substr","sign","secret","signMethod","verify","signature","verifyMethod","verifyAndReceive","matchesSignature","eventHandler","status","id","parse","WEBHOOK_HEADERS","getMissingHeaders","request","header","headers","getPayload","body","data","setEncoding","chunk","middleware","webhooks","response","next","pathname","URL","url","writeHead","end","isUnknownRoute","method","path","isExpressMiddleware","onUnhandledRequest","missingHeaders","join","signatureSHA256","didTimeout","timeout","setTimeout","statusCode","unref","clearTimeout","err","from","errorMessage","onUnhandledRequestDefault","createNodeMiddleware","Webhooks","constructor"],"mappings":"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"}