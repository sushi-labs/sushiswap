{"version":3,"sources":["../../lib/load-custom-routes.ts"],"names":["loadCustomRoutes","normalizeRouteRegex","checkCustomRoutes","config","headers","rewrites","redirects","Promise","all","loadHeaders","loadRewrites","loadRedirects","totalRewrites","beforeFiles","length","afterFiles","fallback","totalRoutes","console","warn","chalk","bold","yellow","trailingSlash","unshift","source","destination","permanent","locale","i18n","undefined","internal","basePath","allowedHasTypes","Set","namedGroupsRegex","regex","replace","checkRedirect","route","invalidParts","hadInvalidStatus","statusCode","allowedStatusCodes","has","push","checkHeader","Array","isArray","header","key","value","routes","type","error","process","exit","numInvalidRoutes","hadInvalidHas","allowedKeys","add","JSON","stringify","startsWith","keys","Object","invalidKeys","filter","invalidHasItems","hasItem","invalidHasParts","join","itemStr","_route","match","result","sourceTokens","tokens","regexStr","tryToParsePath","hasSegments","matchAll","unnamedInDest","token","name","unnamedIndex","RegExp","size","destTokens","destRegexStr","destinationParseFailed","handleUrl","sourceSegments","map","item","Boolean","invalidDestSegments","hasInvalidKeys","hasInvalidParts","processRoutes","_routes","newRoutes","defaultLocales","domains","defaultLocale","base","http","domain","r","srcBasePath","isExternal","destBasePath","forEach","locales","escapeStringRegexp","_rewrites","every"],"mappings":"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"}