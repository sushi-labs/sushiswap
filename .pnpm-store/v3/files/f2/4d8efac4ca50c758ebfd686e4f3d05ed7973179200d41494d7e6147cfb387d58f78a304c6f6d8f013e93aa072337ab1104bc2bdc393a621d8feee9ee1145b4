{"version":3,"sources":["../../lib/verify-partytown-setup.ts"],"names":["verifyPartytownSetup","Log","missingDependencyError","dir","packageManager","getPkgManager","FatalError","chalk","bold","red","cyan","copyPartytownStaticFiles","deps","staticDir","partytownLibDir","path","join","hasPartytownLibDir","fileExists","recursiveDelete","promises","rmdir","copyLibFiles","Promise","resolve","require","resolved","get","targetDir","partytownDeps","hasNecessaryDependencies","file","pkg","exportsRestrict","missing","length","err","warn","console","error","message","process","exit"],"mappings":"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"}