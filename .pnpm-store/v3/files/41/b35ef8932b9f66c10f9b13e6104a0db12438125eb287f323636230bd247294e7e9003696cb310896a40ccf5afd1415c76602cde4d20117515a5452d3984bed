!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Mexp=t():e.Mexp=t()}(self,(function(){return e={28:(e,t,o)=>{var n=o(733);n.prototype.formulaEval=function(){"use strict";for(var e,t,o,n=[],a=this.value,p=0;p<a.length;p++)1===a[p].type||3===a[p].type?n.push({value:3===a[p].type?a[p].show:a[p].value,type:1}):13===a[p].type?n.push({value:a[p].show,type:1}):0===a[p].type?n[n.length-1]={value:a[p].show+("-"!=a[p].show?"(":"")+n[n.length-1].value+("-"!=a[p].show?")":""),type:0}:7===a[p].type?n[n.length-1]={value:(1!=n[n.length-1].type?"(":"")+n[n.length-1].value+(1!=n[n.length-1].type?")":"")+a[p].show,type:7}:10===a[p].type?(e=n.pop(),t=n.pop(),"P"===a[p].show||"C"===a[p].show?n.push({value:"<sup>"+t.value+"</sup>"+a[p].show+"<sub>"+e.value+"</sub>",type:10}):n.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+"<sup>"+e.value+"</sup>",type:1})):2===a[p].type||9===a[p].type?(e=n.pop(),t=n.pop(),n.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+a[p].show+(1!=e.type?"(":"")+e.value+(1!=e.type?")":""),type:a[p].type})):12===a[p].type&&(e=n.pop(),t=n.pop(),o=n.pop(),n.push({value:a[p].show+"("+o.value+","+t.value+","+e.value+")",type:12}));return n[0].value},e.exports=n},618:(e,t,o)=>{"use strict";var n=o(178);function a(e,t){for(var o=0;o<e.length;o++)e[o]+=t;return e}for(var p=[{token:"sin",show:"sin",type:0,value:n.math.sin},{token:"cos",show:"cos",type:0,value:n.math.cos},{token:"tan",show:"tan",type:0,value:n.math.tan},{token:"pi",show:"&pi;",type:3,value:"PI"},{token:"(",show:"(",type:4,value:"("},{token:")",show:")",type:5,value:")"},{token:"P",show:"P",type:10,value:n.math.P},{token:"C",show:"C",type:10,value:n.math.C},{token:" ",show:" ",type:14,value:" ".anchor},{token:"asin",show:"asin",type:0,value:n.math.asin},{token:"acos",show:"acos",type:0,value:n.math.acos},{token:"atan",show:"atan",type:0,value:n.math.atan},{token:"7",show:"7",type:1,value:"7"},{token:"8",show:"8",type:1,value:"8"},{token:"9",show:"9",type:1,value:"9"},{token:"int",show:"Int",type:0,value:Math.floor},{token:"cosh",show:"cosh",type:0,value:n.math.cosh},{token:"acosh",show:"acosh",type:0,value:n.math.acosh},{token:"ln",show:" ln",type:0,value:Math.log},{token:"^",show:"^",type:10,value:Math.pow},{token:"root",show:"root",type:0,value:Math.sqrt},{token:"4",show:"4",type:1,value:"4"},{token:"5",show:"5",type:1,value:"5"},{token:"6",show:"6",type:1,value:"6"},{token:"/",show:"&divide;",type:2,value:n.math.div},{token:"!",show:"!",type:7,value:n.math.fact},{token:"tanh",show:"tanh",type:0,value:n.math.tanh},{token:"atanh",show:"atanh",type:0,value:n.math.atanh},{token:"Mod",show:" Mod ",type:2,value:n.math.mod},{token:"1",show:"1",type:1,value:"1"},{token:"2",show:"2",type:1,value:"2"},{token:"3",show:"3",type:1,value:"3"},{token:"*",show:"&times;",type:2,value:n.math.mul},{token:"sinh",show:"sinh",type:0,value:n.math.sinh},{token:"asinh",show:"asinh",type:0,value:n.math.asinh},{token:"e",show:"e",type:3,value:"E"},{token:"log",show:" log",type:0,value:n.math.log},{token:"0",show:"0",type:1,value:"0"},{token:".",show:".",type:6,value:"."},{token:"+",show:"+",type:9,value:n.math.add},{token:"-",show:"-",type:9,value:n.math.sub},{token:",",show:",",type:11,value:","},{token:"Sigma",show:"&Sigma;",type:12,value:n.math.sigma},{token:"n",show:"n",type:13,value:"n"},{token:"Pi",show:"&Pi;",type:12,value:n.math.Pi},{token:"pow",show:"pow",type:8,value:Math.pow,numberOfArguments:2},{token:"&",show:"&",type:9,value:n.math.and}],u={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1,15:11},h=0;h<p.length;h++)p[h].precedence=u[p[h].type];var s={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0,15:!0},r={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,15:!0},l={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0,15:!0},i={},v={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0,15:!0},f={1:!0},y=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," ","&"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function c(e,t,o,n){for(var a=0;a<n;a++)if(e[o+a]!==t[a])return!1;return!0}function w(e,t){for(var o=0;o<t.length;o++)if(t[o].token===e)return o;return-1}function g(e){for(var t,o,a,u=[],h=e.length,s=0;s<h;s++)if(!(s<h-1&&" "===e[s]&&" "===e[s+1])){for(t="",o=e.length-s>y.length-2?y.length-1:e.length-s;o>0;o--)if(void 0!==y[o])for(a=0;a<y[o].length;a++)c(e,y[o][a],s,o)&&(t=y[o][a],a=y[o].length,o=0);if(s+=t.length-1,""===t)throw new n.Exception("Can't understand after "+e.slice(s));u.push(p[w(t,p)])}return u}n.tokenTypes={FUNCTION_WITH_ONE_ARG:0,NUMBER:1,BINARY_OPERATOR_HIGH_PRECENDENCE:2,CONSTANT:3,OPENING_PARENTHESIS:4,CLOSING_PARENTHESIS:5,DECIMAL:6,POSTFIX_FUNCTION_WITH_ONE_ARG:7,FUNCTION_WITH_N_ARGS:8,BINARY_OPERATOR_LOW_PRECENDENCE:9,BINARY_OPERATOR_PERMUTATION:10,COMMA:11,EVALUATED_FUNCTION:12,EVALUATED_FUNCTION_PARAMETER:13,SPACE:14},n.addToken=function(e){for(var t=0;t<e.length;t++){var o=e[t].token.length,a=-1;e[t].type===n.tokenTypes.FUNCTION_WITH_N_ARGS&&void 0===e[t].numberOfArguments&&(e[t].numberOfArguments=2),y[o]=y[o]||[];for(var h=0;h<y[o].length;h++)if(e[t].token===y[o][h]){a=w(y[o][h],p);break}-1===a?(p.push(e[t]),e[t].precedence=u[e[t].type],y.length<=e[t].token.length&&(y[e[t].token.length]=[]),y[e[t].token.length].push(e[t].token)):(p[a]=e[t],e[t].precedence=u[e[t].type])}};var m={value:n.math.changeSign,type:0,pre:21,show:"-"},d={value:")",show:")",type:5,pre:0},k={value:"(",type:4,pre:0,show:"("};n.lex=function(e,t){var o,p=[k],u=[],h=e,y=s,c=0,w=i,M="";void 0!==t&&n.addToken(t);var E={},x=g(h);for(o=0;o<x.length;o++){var N=x[o];if(14!==N.type){var P,A=N.token,I=N.type,O=N.value,T=N.precedence,_=N.show,R=p[p.length-1];for(P=u.length;P--&&0===u[P];)if(-1!==[0,2,3,4,5,9,11,12,13].indexOf(I)){if(!0!==y[I])throw new n.Exception(A+" is not allowed after "+M);p.push(d),y=r,w=v,u.pop()}if(!0!==y[I])throw new n.Exception(A+" is not allowed after "+M);if(!0===w[I]&&(I=2,O=n.math.mul,_="&times;",T=3,o-=1),E={value:O,type:I,pre:T,show:_,numberOfArguments:N.numberOfArguments},0===I)y=s,w=i,a(u,2),p.push(E),4!==x[o+1].type&&(p.push(k),u.push(2));else if(1===I)1===R.type?(R.value+=O,a(u,1)):p.push(E),y=r,w=l;else if(2===I)y=s,w=i,a(u,2),p.push(E);else if(3===I)p.push(E),y=r,w=v;else if(4===I)a(u,1),c++,y=s,w=i,p.push(E);else if(5===I){if(!c)throw new n.Exception("Closing parenthesis are more than opening one, wait What!!!");c--,y=r,w=v,p.push(E),a(u,1)}else if(6===I){if(R.hasDec)throw new n.Exception("Two decimals are not allowed in one number");1!==R.type&&(R={value:0,type:1,pre:0},p.push(R)),y=f,a(u,1),w=i,R.value+=O,R.hasDec=!0}else 7===I&&(y=r,w=v,a(u,1),p.push(E));8===I?(y=s,w=i,a(u,N.numberOfArguments+2),p.push(E),4!==x[o+1].type&&(p.push(k),u.push(N.numberOfArguments+2))):9===I?(9===R.type?R.value===n.math.add?(R.value=O,R.show=_,a(u,1)):R.value===n.math.sub&&"-"===_&&(R.value=n.math.add,R.show="+",a(u,1)):5!==R.type&&7!==R.type&&1!==R.type&&3!==R.type&&13!==R.type?"-"===A&&(y=s,w=i,a(u,2).push(2),p.push(m),p.push(k)):(p.push(E),a(u,2)),y=s,w=i):10===I?(y=s,w=i,a(u,2),p.push(E)):11===I?(y=s,w=i,p.push(E)):12===I?(y=s,w=i,a(u,6),p.push(E),4!==x[o+1].type&&(p.push(k),u.push(6))):13===I&&(y=r,w=v,p.push(E)),a(u,-1),M=A}else if(o>0&&o<x.length-1&&1===x[o+1].type&&(1===x[o-1].type||6===x[o-1].type))throw new n.Exception("Unexpected Space")}for(P=u.length;P--;)p.push(d);if(!0!==y[5])throw new n.Exception("complete the expression");for(;c--;)p.push(d);return p.push(d),new n(p)},e.exports=n},178:e=>{"use strict";var t=function(e){this.value=e};t.math={isDegree:!0,acos:function(e){return t.math.isDegree?180/Math.PI*Math.acos(e):Math.acos(e)},add:function(e,t){return e+t},asin:function(e){return t.math.isDegree?180/Math.PI*Math.asin(e):Math.asin(e)},atan:function(e){return t.math.isDegree?180/Math.PI*Math.atan(e):Math.atan(e)},acosh:function(e){return Math.log(e+Math.sqrt(e*e-1))},asinh:function(e){return Math.log(e+Math.sqrt(e*e+1))},atanh:function(e){return Math.log((1+e)/(1-e))},C:function(e,o){var n=1,a=e-o,p=o;p<a&&(p=a,a=o);for(var u=p+1;u<=e;u++)n*=u;return n/t.math.fact(a)},changeSign:function(e){return-e},cos:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.cos(e)},cosh:function(e){return(Math.pow(Math.E,e)+Math.pow(Math.E,-1*e))/2},div:function(e,t){return e/t},fact:function(e){if(e%1!=0)return"NaN";for(var t=1,o=2;o<=e;o++)t*=o;return t},inverse:function(e){return 1/e},log:function(e){return Math.log(e)/Math.log(10)},mod:function(e,t){return e%t},mul:function(e,t){return e*t},P:function(e,t){for(var o=1,n=Math.floor(e)-Math.floor(t)+1;n<=Math.floor(e);n++)o*=n;return o},Pi:function(e,t,o){for(var n=1,a=e;a<=t;a++)n*=Number(o.postfixEval({n:a}));return n},pow10x:function(e){for(var t=1;e--;)t*=10;return t},sigma:function(e,t,o){for(var n=0,a=e;a<=t;a++)n+=Number(o.postfixEval({n:a}));return n},sin:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.sin(e)},sinh:function(e){return(Math.pow(Math.E,e)-Math.pow(Math.E,-1*e))/2},sub:function(e,t){return e-t},tan:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.tan(e)},tanh:function(e){return t.sinha(e)/t.cosha(e)},toRadian:function(e){return e*Math.PI/180},and:function(e,t){return e&t}},t.Exception=function(e){this.message=e},e.exports=t},477:(e,t,o)=>{var n=o(618);n.prototype.toPostfix=function(){"use strict";for(var e,t,o,a,p,u=[],h=[{value:"(",type:4,pre:0}],s=this.value,r=1;r<s.length;r++)if(1===s[r].type||3===s[r].type||13===s[r].type)1===s[r].type&&(s[r].value=Number(s[r].value)),u.push(s[r]);else if(4===s[r].type)h.push(s[r]);else if(5===s[r].type)for(;4!==(t=h.pop()).type;)u.push(t);else if(11===s[r].type){for(;4!==(t=h.pop()).type;)u.push(t);h.push(t)}else{a=(e=s[r]).pre,o=(p=h[h.length-1]).pre;var l="Math.pow"==p.value&&"Math.pow"==e.value;if(a>o)h.push(e);else{for(;o>=a&&!l||l&&a<o;)t=h.pop(),p=h[h.length-1],u.push(t),o=p.pre,l="Math.pow"==e.value&&"Math.pow"==p.value;h.push(e)}}return new n(u)},e.exports=n},733:(e,t,o)=>{var n=o(477);n.prototype.postfixEval=function(e){"use strict";(e=e||{}).PI=Math.PI,e.E=Math.E;for(var t,o,a,p=[],u=this.value,h=void 0!==e.n,s=0;s<u.length;s++)if(1===u[s].type)p.push({value:u[s].value,type:1});else if(3===u[s].type)p.push({value:e[u[s].value],type:1});else if(0===u[s].type)void 0===p[p.length-1].type?p[p.length-1].value.push(u[s]):p[p.length-1].value=u[s].value(p[p.length-1].value);else if(7===u[s].type)void 0===p[p.length-1].type?p[p.length-1].value.push(u[s]):p[p.length-1].value=u[s].value(p[p.length-1].value);else if(8===u[s].type){for(var r=[],l=0;l<u[s].numberOfArguments;l++)r.push(p.pop().value);p.push({type:1,value:u[s].value.apply(u[s],r.reverse())})}else 10===u[s].type?(t=p.pop(),void 0===(o=p.pop()).type?(o.value=o.concat(t),o.value.push(u[s]),p.push(o)):void 0===t.type?(t.unshift(o),t.push(u[s]),p.push(t)):p.push({type:1,value:u[s].value(o.value,t.value)})):2===u[s].type||9===u[s].type?(t=p.pop(),void 0===(o=p.pop()).type?((o=o.concat(t)).push(u[s]),p.push(o)):void 0===t.type?(t.unshift(o),t.push(u[s]),p.push(t)):p.push({type:1,value:u[s].value(o.value,t.value)})):12===u[s].type?(void 0!==(t=p.pop()).type&&(t=[t]),o=p.pop(),a=p.pop(),p.push({type:1,value:u[s].value(a.value,o.value,new n(t))})):13===u[s].type&&(h?p.push({value:e[u[s].value],type:3}):p.push([u[s]]));if(p.length>1)throw new n.Exception("Uncaught Syntax error");return p[0].value>1e15?"Infinity":parseFloat(p[0].value.toFixed(15))},n.eval=function(e,t,o){return void 0===t?this.lex(e).toPostfix().postfixEval():void 0===o?void 0!==t.length?this.lex(e,t).toPostfix().postfixEval():this.lex(e).toPostfix().postfixEval(t):this.lex(e,t).toPostfix().postfixEval(o)},e.exports=n}},t={},o=function o(n){var a=t[n];if(void 0!==a)return a.exports;var p=t[n]={exports:{}};return e[n](p,p.exports,o),p.exports}(28),o;var e,t,o}));