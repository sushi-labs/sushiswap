var P=Object.create;var l=Object.defineProperty,j=Object.defineProperties,z=Object.getOwnPropertyDescriptor,G=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertyNames,B=Object.getOwnPropertySymbols,K=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var V=(e,r,t)=>r in e?l(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,T=(e,r)=>{for(var t in r||(r={}))M.call(r,t)&&V(e,t,r[t]);if(B)for(var t of B(r))Q.call(r,t)&&V(e,t,r[t]);return e},R=(e,r)=>j(e,G(r)),O=e=>l(e,"__esModule",{value:!0});var W=(e,r)=>{O(e);for(var t in r)l(e,t,{get:r[t],enumerable:!0})},X=(e,r,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of H(r))!M.call(e,u)&&u!=="default"&&l(e,u,{get:()=>r[u],enumerable:!(t=z(r,u))||t.enumerable});return e},C=e=>X(O(l(e!=null?P(K(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);W(exports,{useElapsedTime:()=>k});var n=C(require("react"));var b=C(require("react")),x=typeof window=="undefined"?b.useEffect:b.useLayoutEffect;var k=({isPlaying:e,duration:r,startAt:t=0,updateInterval:u=0,onComplete:E,onUpdate:y})=>{let[f,I]=(0,n.useState)(t),S=(0,n.useRef)(t*-1e3),c=(0,n.useRef)(null),m=(0,n.useRef)(null),A=(0,n.useRef)(null),s=(0,n.useRef)({elapsedTimeRef:0,startAtRef:t,durationRef:r,updateIntervalRef:u});s.current=R(T({},s.current),{durationRef:r,updateIntervalRef:u});let p=a=>{let o=a/1e3;if(m.current===null){m.current=o,c.current=requestAnimationFrame(p);return}let{durationRef:i,elapsedTimeRef:D,updateIntervalRef:v,startAtRef:w}=s.current,J=o-m.current,d=D+J;m.current=o,s.current=R(T({},s.current),{elapsedTimeRef:d});let L=w+(v===0?d:(d/v|0)*v),N=w+d,F=typeof i=="number"&&N>=i;I(F?i:L),F||(c.current=requestAnimationFrame(p))},h=()=>{c.current&&cancelAnimationFrame(c.current),A.current&&clearTimeout(A.current),m.current=null},q=(0,n.useCallback)(a=>{let o=typeof a=="number"?a:t;h(),s.current=R(T({},s.current),{elapsedTimeRef:0,startAtRef:o}),I(o),e&&(c.current=requestAnimationFrame(p))},[e,t]);return x(()=>{if(y==null||y(f),r&&f>=r){S.current+=r*1e3;let{shouldRepeat:a=!1,delay:o=0,newStartAt:i}=(E==null?void 0:E(S.current/1e3))||{};a&&(A.current=setTimeout(()=>q(i),o*1e3))}},[f,r]),x(()=>(e&&(c.current=requestAnimationFrame(p)),h),[e]),{elapsedTime:f,reset:q}};
