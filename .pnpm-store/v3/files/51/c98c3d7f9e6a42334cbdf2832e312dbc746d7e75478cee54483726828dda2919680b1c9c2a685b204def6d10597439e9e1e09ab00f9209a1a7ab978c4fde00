{"version":3,"sources":["../../client/script.tsx"],"names":["handleClientScriptLoad","initScriptLoader","ScriptCache","Map","LoadCache","Set","ignoreProps","loadScript","props","src","id","onLoad","onReady","dangerouslySetInnerHTML","children","strategy","onError","cacheKey","has","add","get","then","afterLoad","el","document","createElement","loadPromise","Promise","resolve","reject","addEventListener","e","call","catch","innerHTML","__html","textContent","Array","isArray","join","set","k","value","Object","entries","undefined","includes","attr","DOMAttributeNames","toLowerCase","setAttribute","body","appendChild","window","requestIdleCallback","loadLazyScript","readyState","addBeforeInteractiveToCache","scripts","querySelectorAll","forEach","script","getAttribute","scriptLoaderItems","Script","restProps","updateScripts","getIsSsr","useContext","HeadManagerContext","hasOnReadyEffectCalled","useRef","useEffect","current","hasLoadScriptEffectCalled","concat","defineProperty"],"mappings":"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"}