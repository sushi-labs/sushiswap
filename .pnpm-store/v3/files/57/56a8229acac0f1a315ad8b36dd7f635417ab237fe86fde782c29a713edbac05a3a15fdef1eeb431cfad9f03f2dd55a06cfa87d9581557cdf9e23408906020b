{"version":3,"file":"cell.js","sources":["../../../src/core/cell.ts"],"sourcesContent":["import { Cell, Column, Row, TableGenerics, TableInstance } from '../types'\n\nexport type CoreCell<TGenerics extends TableGenerics> = {\n  id: string\n  getValue: () => TGenerics['Value']\n  row: Row<TGenerics>\n  column: Column<TGenerics>\n  renderCell: () => string | null | TGenerics['Rendered']\n}\n\nexport function createCell<TGenerics extends TableGenerics>(\n  instance: TableInstance<TGenerics>,\n  row: Row<TGenerics>,\n  column: Column<TGenerics>,\n  columnId: string\n) {\n  const cell: CoreCell<TGenerics> = {\n    id: `${row.id}_${column.id}`,\n    row,\n    column,\n    getValue: () => row.getValue(columnId),\n    renderCell: () =>\n      column.columnDef.cell\n        ? instance._render(column.columnDef.cell, {\n            instance,\n            column,\n            row,\n            cell: cell as Cell<TGenerics>,\n            getValue: cell.getValue,\n          })\n        : null,\n  }\n\n  instance._features.forEach(feature => {\n    Object.assign(\n      cell,\n      feature.createCell?.(\n        cell as Cell<TGenerics>,\n        column,\n        row as Row<TGenerics>,\n        instance\n      )\n    )\n  }, {})\n\n  return cell as Cell<TGenerics>\n}\n"],"names":["createCell","instance","row","column","columnId","cell","id","getValue","renderCell","columnDef","_render","_features","forEach","feature","Object","assign"],"mappings":";;;;;;;;;;;;;;AAUO,SAASA,UAAT,CACLC,QADK,EAELC,GAFK,EAGLC,MAHK,EAILC,QAJK,EAKL;AACA,EAAA,MAAMC,IAAyB,GAAG;AAChCC,IAAAA,EAAE,EAAKJ,GAAG,CAACI,EAAT,GAAeH,GAAAA,GAAAA,MAAM,CAACG,EADQ;AAEhCJ,IAAAA,GAFgC;AAGhCC,IAAAA,MAHgC;AAIhCI,IAAAA,QAAQ,EAAE,MAAML,GAAG,CAACK,QAAJ,CAAaH,QAAb,CAJgB;AAKhCI,IAAAA,UAAU,EAAE,MACVL,MAAM,CAACM,SAAP,CAAiBJ,IAAjB,GACIJ,QAAQ,CAACS,OAAT,CAAiBP,MAAM,CAACM,SAAP,CAAiBJ,IAAlC,EAAwC;AACtCJ,MAAAA,QADsC;AAEtCE,MAAAA,MAFsC;AAGtCD,MAAAA,GAHsC;AAItCG,MAAAA,IAAI,EAAEA,IAJgC;AAKtCE,MAAAA,QAAQ,EAAEF,IAAI,CAACE,QAAAA;AALuB,KAAxC,CADJ,GAQI,IAAA;AAd0B,GAAlC,CAAA;;AAiBAN,EAAAA,QAAQ,CAACU,SAAT,CAAmBC,OAAnB,CAA2BC,OAAO,IAAI;AACpCC,IAAAA,MAAM,CAACC,MAAP,CACEV,IADF,EAEEQ,OAAO,CAACb,UAFV,IAAA,IAAA,GAAA,KAAA,CAAA,GAEEa,OAAO,CAACb,UAAR,CACEK,IADF,EAEEF,MAFF,EAGED,GAHF,EAIED,QAJF,CAFF,CAAA,CAAA;AASD,GAVD,EAUG,EAVH,CAAA,CAAA;;AAYA,EAAA,OAAOI,IAAP,CAAA;AACD;;;;"}