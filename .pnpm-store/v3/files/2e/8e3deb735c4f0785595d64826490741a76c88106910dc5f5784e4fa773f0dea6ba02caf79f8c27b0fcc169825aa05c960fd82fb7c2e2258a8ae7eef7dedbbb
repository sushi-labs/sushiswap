!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).d3=t.d3||{})}(this,function(t){"use strict";function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function e(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function r(o){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?e(Object(u),!0).forEach(function(t){var e,n,r;e=o,r=u[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):e(Object(u)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(u,t))})}return o}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,u=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw u}}}}function l(t,e){var u=[],a=[];return t.length&&function t(e,n){if(1===e.length)u.push(e[0]),a.push(e[0]);else{for(var r=Array(e.length-1),o=0;o<r.length;o++)0===o&&u.push(e[0]),o===r.length-1&&a.push(e[o+1]),r[o]=[(1-n)*e[o][0]+n*e[o+1][0],(1-n)*e[o][1]+n*e[o+1][1]];t(r,n)}}(t,e),{left:u,right:a.reverse()}}function o(t){var e={};return 4===t.length&&(e.x2=t[2][0],e.y2=t[2][1]),3<=t.length&&(e.x1=t[1][0],e.y1=t[1][1]),e.x=t[t.length-1][0],e.y=t[t.length-1][1],4===t.length?e.type="C":3===t.length?e.type="Q":e.type="L",e}function p(t,e,n){var r=[[t.x,t.y]];return null!=e.x1&&r.push([e.x1,e.y1]),null!=e.x2&&r.push([e.x2,e.y2]),r.push([e.x,e.y]),function(t,e){for(var n=[],r=t,o=1/(e=e||2),u=0;u<e-1;u++){var a=l(r,o/(1-o*u));n.push(a.left),r=a.right}return n.push(r),n}(r,n).map(o)}var c=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,h={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};function g(t,e){for(var n=Array(t),r=0;r<t;r++)n[r]=e;return n}function u(c,t,u){var e=c.length-1,n=t.length-1,a=e/n,r=g(n).reduce(function(t,e,n){var r,o=Math.floor(a*n);return u&&o<c.length-1&&u(c[o],c[o+1])&&(r=a*n%1<.5,t[o]&&(r?0<o?--o:o<c.length-1&&(o+=1):o<c.length-1?o+=1:0<o&&--o)),t[o]=(t[o]||0)+1,t},[]).reduce(function(t,e,n){if(n!==c.length-1)return t.concat((r=c[n],o=c[n+1],u=e,l=[],"L"===o.type||"Q"===o.type||"C"===o.type?l=l.concat(p(r,o,u)):("M"===(a=f({},r)).type&&(a.type="L"),(l=l.concat(g(u-1).map(function(){return a}))).push(o)),l));var r,o,u,a,l,i=g(e,f({},c[c.length-1]));return"M"===i[0].type&&i.forEach(function(t){t.type="L"}),t.concat(i)},[]);return r.unshift(c[0]),r}function a(t){for(var e,n,r=(t||"").match(c)||[],o=[],u=0;u<r.length;++u)if(e=h[r[u]]){n={type:r[u]};for(var a=0;a<e.length;++a)n[e[a]]=+r[u+a+1];u+=e.length,o.push(n)}return o}function s(t,i,e){var c=null==t?[]:t.slice(),f=null==i?[]:i.slice();if(!c.length&&!f.length)return function(){return[]};var n=!(0!==c.length&&"Z"!==c[c.length-1].type||0!==f.length&&"Z"!==f[f.length-1].type);0<c.length&&"Z"===c[c.length-1].type&&c.pop(),0<f.length&&"Z"===f[f.length-1].type&&f.pop(),c.length?f.length||f.push(c[0]):c.push(f[0]),0!==Math.abs(f.length-c.length)&&(f.length>c.length?c=u(c,f,e):f.length<c.length&&(f=u(f,c,e)));var p=(c=c.map(function(t,e){return r=t,o=f[e],a={x1:"x",y1:"y",x2:"x",y2:"y"},l=["xAxisRotation","largeArcFlag","sweepFlag"],r.type!==o.type&&"M"!==o.type.toUpperCase()&&(u={},Object.keys(o).forEach(function(t){var e=o[t],n=r[t];void 0===n&&(l.includes(t)?n=e:(void 0===n&&a[t]&&(n=r[a[t]]),void 0===n&&(n=0))),u[t]=n}),u.type=o.type,r=u),r;var r,o,u,a,l})).map(function(t){return r({},t)});return n&&p.push({type:"Z"}),function(t){if(1===t)return null==i?[]:i;if(0<t)for(var e=0;e<p.length;++e){var n,r=c[e],o=f[e],u=p[e],a=y(h[u.type]);try{for(a.s();!(n=a.n()).done;){var l=n.value;u[l]=(1-t)*r[l]+t*o[l],"largeArcFlag"!==l&&"sweepFlag"!==l||(u[l]=Math.round(u[l]))}}catch(t){a.e(t)}finally{a.f()}}return p}}Object.keys(h).forEach(function(t){h[t.toLowerCase()]=h[t]}),t.interpolatePath=function(t,o,e){var n=a(t),r=a(o);if(!n.length&&!r.length)return function(){return""};var u=s(n,r,e);return function(t){if(1===t)return null==o?"":o;var e,n="",r=y(u(t));try{for(r.s();!(e=r.n()).done;){n+=function(e){return"".concat(e.type).concat(h[e.type].map(function(t){return e[t]}).join(","))}(e.value)}}catch(t){r.e(t)}finally{r.f()}return n}},t.interpolatePathCommands=s,t.pathCommandsFromString=a,Object.defineProperty(t,"__esModule",{value:!0})});