{"version":3,"file":"columnHelper.js","sources":["../../src/columnHelper.ts"],"sourcesContent":["import { AccessorFn, ColumnDef, RowData } from './types'\nimport { DeepKeys, DeepValue, RequiredKeys } from './utils'\n\n// type Person = {\n//   firstName: string\n//   lastName: string\n//   age: number\n//   visits: number\n//   status: string\n//   progress: number\n//   nested: {\n//     foo: [\n//       {\n//         bar: 'bar'\n//       }\n//     ]\n//     bar: { subBar: boolean }[]\n//     baz: {\n//       foo: 'foo'\n//       bar: {\n//         baz: 'baz'\n//       }\n//     }\n//   }\n// }\n\n// const test: DeepKeys<Person> = 'nested.foo.0.bar'\n// const test2: DeepKeys<Person> = 'nested.bar'\n\n// const helper = createColumnHelper<Person>()\n\n// helper.accessor('nested.foo', {\n//   cell: info => info.getValue(),\n// })\n\n// helper.accessor('nested.foo.0.bar', {\n//   cell: info => info.getValue(),\n// })\n\n// helper.accessor('nested.bar', {\n//   cell: info => info.getValue(),\n// })\n\nexport type ColumnHelper<TData extends RowData> = {\n  accessor: <\n    TAccessor extends AccessorFn<TData> | DeepKeys<TData>,\n    TValue extends TAccessor extends AccessorFn<TData, infer TReturn>\n      ? TReturn\n      : TAccessor extends DeepKeys<TData>\n      ? DeepValue<TData, TAccessor>\n      : never\n  >(\n    accessor: TAccessor,\n    column: Omit<ColumnDef<TData, TValue>, 'accessorKey'>\n  ) => ColumnDef<TData, TValue>\n  display: (\n    column: RequiredKeys<\n      Omit<ColumnDef<TData, unknown>, 'accessorKey' | 'accessorFn'>,\n      'id'\n    >\n  ) => ColumnDef<TData, unknown>\n  group: (\n    column: RequiredKeys<\n      Omit<ColumnDef<TData, unknown>, 'accessorKey' | 'accessorFn'>,\n      'id' | 'columns'\n    >\n  ) => ColumnDef<TData, unknown>\n}\n\nexport function createColumnHelper<\n  TData extends RowData\n>(): ColumnHelper<TData> {\n  return {\n    accessor: (accessor, column) => {\n      return typeof accessor === 'function'\n        ? ({\n            ...column,\n            accessorFn: accessor,\n          } as any)\n        : {\n            ...column,\n            accessorKey: accessor,\n          }\n    },\n    display: column => column as ColumnDef<TData, unknown>,\n    group: column => column as ColumnDef<TData, unknown>,\n  }\n}\n"],"names":["createColumnHelper","accessor","column","accessorFn","accessorKey","display","group"],"mappings":";;;;;;;;;;;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AA4BO,SAASA,kBAAT,GAEkB;EACvB,OAAO;AACLC,IAAAA,QAAQ,EAAE,CAACA,QAAD,EAAWC,MAAX,KAAsB;AAC9B,MAAA,OAAO,OAAOD,QAAP,KAAoB,UAApB,GACF,EACC,GAAGC,MADJ;AAECC,QAAAA,UAAU,EAAEF,QAAAA;OAHX,GAKH,EACE,GAAGC,MADL;AAEEE,QAAAA,WAAW,EAAEH,QAAAA;OAPnB,CAAA;KAFG;IAYLI,OAAO,EAAEH,MAAM,IAAIA,MAZd;IAaLI,KAAK,EAAEJ,MAAM,IAAIA,MAAAA;GAbnB,CAAA;AAeD;;;;"}