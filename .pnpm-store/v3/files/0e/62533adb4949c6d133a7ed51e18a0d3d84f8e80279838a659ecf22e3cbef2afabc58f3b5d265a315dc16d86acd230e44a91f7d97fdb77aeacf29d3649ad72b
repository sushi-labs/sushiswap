var e=require("fp-ts/Either"),t=require("fp-ts/function"),r=require("@hookform/resolvers"),n=require("io-ts"),o=require("fp-ts/ReadonlyArray"),u=require("fp-ts/Option"),i=require("fp-ts/Semigroup"),a=require("fp-ts/ReadonlyRecord");function f(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,t}var p=/*#__PURE__*/f(e),c=/*#__PURE__*/f(o),s=/*#__PURE__*/f(u),l=/*#__PURE__*/f(i),d=/*#__PURE__*/f(a);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var m=function(e){return e.reduce(function(e,r,n){return t.pipe(r,p.fold(function(e){return(n>0?".":"")+e},function(e){return"["+e+"]"}),function(t){return""+e+t})},"")},v=["path"],g=function(e){var r,o=t.pipe(r=e.context,c.filterMapWithIndex(function(e,t){var o=e-1;return void 0===r[o]||r[o].type instanceof n.TaggedUnionType||r[o].type instanceof n.UnionType||r[o].type instanceof n.IntersectionType?s.none:s.some(t)}),c.map(function(e){return e.key}),c.map(function(e){return t.pipe(e,function(e){return parseInt(e,10)},p.fromPredicate(t.not(Number.isNaN),function(){return e}))}),c.toArray,m);return{message:t.pipe(e.message,p.fromNullable(e.context),p.mapLeft(t.flow(c.last,s.map(function(e){return"expected "+e.type.name+" but got "+JSON.stringify(e.actual)}),s.getOrElseW(function(){return t.absurd("Error context is missing name")}))),p.getOrElseW(t.identity)),type:t.pipe(e.context,c.last,s.map(function(e){return e.type.name}),s.getOrElse(function(){return"unknown"})),path:o}},O=function(e){return t.pipe(e,c.map(function(e){var t;return(t={})[e.path]={type:e.type,message:e.message},t}),function(e){return l.fold({concat:function(e,t){return Object.assign({},t,e)}})({},e)})},b={concat:function(e,t){var r;return y({},t,{types:y({},e.types,(r={},r[e.type]=e.message,r[t.type]=t.message,r))})}},h=function(e){return t.pipe(d.fromFoldableMap(b,c.Foldable)(e,function(e){return[e.path,e]}),d.map(function(e){return function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)t.indexOf(r=u[n])>=0||(o[r]=e[r]);return o}(e,v)}))};exports.ioTsResolver=function(e){return function(n,o,u){return t.pipe(n,e.decode,p.mapLeft((i=!u.shouldUseNativeValidation&&"all"===u.criteriaMode,function(e){var r=i?h:O;return t.pipe(e,c.map(g),r)})),p.mapLeft(function(e){return r.toNestError(e,u)}),p.fold(function(e){return{values:{},errors:e}},function(e){return u.shouldUseNativeValidation&&r.validateFieldsNatively({},u),{values:e,errors:{}}}));var i}};
//# sourceMappingURL=io-ts.js.map
